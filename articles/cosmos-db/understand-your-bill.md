---
title: 了解 Azure Cosmos DB 帐单
description: 本文通过一些示例介绍如何了解 Azure Cosmos DB 帐单。
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 08/26/2021
ms.reviewer: sngun
ms.openlocfilehash: 719ab4e8098b07c86430f7420b965fdb037561e0
ms.sourcegitcommit: 03f0db2e8d91219cf88852c1e500ae86552d8249
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/27/2021
ms.locfileid: "123038503"
---
# <a name="understand-your-azure-cosmos-db-bill"></a>了解 Azure Cosmos DB 帐单
[!INCLUDE[appliesto-all-apis](includes/appliesto-all-apis.md)]

Azure Cosmos DB 是完全托管的云原生数据库服务，仅针对数据库操作和消耗的存储收费，因而简化了计费。 与本地或 IaaS 托管的替代方案相比，无需额外的许可费、硬件、使用成本或设施成本。 若想使用 Azure Cosmos DB 的多区域功能，与现有本地或 IaaS 解决方案相比，数据库服务可显着降低成本。

- **数据库操作**：数据库操作的收费方式取决于你使用的 Azure Cosmos 帐户的类型。

  - **预配的吞吐量**：按给定小时内的最大预配吞吐量（增量为 100 RU/秒）以小时来计费。
  - **无服务器**：每小时按数据库操作消耗的请求单位总数计费。

- **存储**：给定小时内数据和索引所消耗的存储总量（以 GB 为单位）按统一费率计费。

有关最新定价信息，请参阅[定价页](https://azure.microsoft.com/pricing/details/cosmos-db/)。

本文通过一些示例来帮助你了解每月帐单上的详细信息。 若存在以下情况，则示例中显示的数字可能会有所不同：Azure Cosmos 容器预配的吞吐量不同；容器跨多个区域；或在一个月内在不同时期运行。 本文中的所有示例都基于[定价页](https://azure.microsoft.com/pricing/details/cosmos-db/)中显示的定价信息计算账单。

> [!NOTE]
> 计费按每个小时计算，而不是按 60 分钟的持续时间计算。 本文档中所示的所有示例都基于在美国非政府区域中部署的 Azure Cosmos 帐户的价格。 定价和计算因所使用的区域而异。有关最新定价信息，请参阅 [Azure Cosmos DB 定价页](https://azure.microsoft.com/pricing/details/cosmos-db/)。

## <a name="billing-examples"></a>计费示例

### <a name="billing-example---provisioned-throughput-on-a-container-full-month"></a>计费示例 - 容器上预配的吞吐量（整月）

* 假设在容器上配置了 1,000 RU/秒的吞吐量，且在该月总共存在 24 小时* 30 天 = 720 小时。  

* 容器每小时存在的 1,000 RU/秒是 10 个每小时 100 RU/秒（即 1,000/100 = 10）。 

* 以每小时 10 个单位乘以成本 0.008 美元（每小时每 100 RU/秒）= 每小时 0.08 美元。 

* 以每小时 0.08 美元乘以当月的小时数，即 0.08 * 24 小时 * 30 天 = 当月 57.60 美元。  

* 月度总帐单将显示 7,200 个单位（100 个 RU），费用为 57.60 美元。

### <a name="billing-example---provisioned-throughput-on-a-container-partial-month"></a>计费示例 - 容器上预配的吞吐量（不足一个月）

* 假设创建一个预配吞吐量为 2,500 RU/秒的容器。容器在一个月内存在 24 小时（例如，在创建容器后 24 小时将其删除）。  

* 则帐单上会显示 600 个单位（2,500 RU/秒/100 RU/秒/单位* 24小时）。 费用为 4.80 美元（600 单位 * 0.008 美元/单位）。

* 当月总帐单将为 4.80 美元。

### <a name="billing-example---serverless-container"></a>计费示例 - 无服务器容器

* 假设我们创建了一个无服务器容器。 

* 一个多月来，我们发出的数据库请求总共使用了 500,000 个请求单位。 成本将为 0.125 美元（500,000 * 0.25 美元/百万）。

* 当月总账单将为 0.125 美元。

### <a name="billing-rate-if-storage-size-changes"></a>存储大小变化时的计费率

存储容量按一个月内每小时的最大数据存储量（以 GB 为单位）计费。 例如，如果前半个月使用了 100 GB 的存储空间，而后半个月使用了 50 GB 的存储空间，则该月将按 75 GB 的等效存储空间进行计费。

### <a name="billing-rate-when-container-or-a-set-of-containers-are-active-for-less-than-an-hour"></a>容器或一组容器活动时间在一小时内的计费率

将对容器或数据库存在的每小时按统一费率进行收费，而无论使用量是多少，也无论容器或数据库使用时间是否不足一个小时。 例如，如果创建一个容器或数据库，然后在 5 分钟后删除它，那么帐单显示 1 个小时的费用。

### <a name="billing-rate-when-provisioned-throughput-on-a-container-or-database-scales-updown"></a>容器或数据库上预配的吞吐量纵向扩展/缩减时的计费率

如果在上午 9:30 将预配的吞吐量从 400 RU/秒增加到 1,000 RU/秒，然后在上午 10:45 将预配的吞吐量重新减少到 400 RU/秒，则将收取两小时 1,000 RU/秒的费用。 

如果在上午 9:30 将某个容器或一组容器的预配吞吐量从 100K RU/秒增加到 200K RU/秒，然后在上午 10:45 将预配的吞吐量重新减少到 100K RU/秒，则将收取两小时 200K RU/秒的费用。

### <a name="billing-example-multiple-containers-each-with-dedicated-provisioned-throughput-mode"></a>计费示例：多个容器，每个容器都采用专用的预配吞吐量模式

* 如果在美国东部 2 区域创建包含两个容器的 Azure Cosmos 帐户，并且这两个容器分别预配了 500 RU/秒和 700 RU/秒的吞吐量，则预配的总吞吐量将为 1,200 RU/秒。  

* 需支付 1,200/100 * 0.008 美元 = 0.096 美元/小时。 

* 如果需要更改吞吐量，且每个容器的容量增加了 500 RU/秒，同时还以 20,000 RU/秒创建了新的无限容器，则预配的总体容量为 22,200 RU/秒（1,000 RU/秒 + 1,200 RU/秒 + 20,000 RU/秒）。  

* 此时需支付 0.008 美元  x 222 =  1.776 美元/小时。 

* 假设一个月为 720 小时（24 小时 * 30 天），如果 500 小时的预配吞吐量为 1,200 RU/秒，其余 220 小时的预配吞吐量为 22,200 RU/秒，则月度帐单将显示：500 x 0.096 美元/小时 + 220 x 1.776 美元/小时 = 438.72 美元/月。

:::image type="content" source="./media/understand-your-bill/bill-example1.png" alt-text="专用吞吐量计费示例":::

### <a name="billing-example-containers-with-shared-provisioned-throughput-mode"></a>计费示例：具有共享（预配）吞吐量模式的容器

* 如果在美国东部 2 区域创建包含两个 Azure Cosmos 数据库（其中含有一组在数据库级别共享吞吐量的容器）的 Azure Cosmos 帐户，并且这两个容器分别预配了 50K RU/秒和 70K RU/秒的吞吐量，则预配的总吞吐量将为 120K RU/秒。  

* 需支付 1200 x 0.008 美元 = 9.60 美元/小时。 

* 如果需要更改吞吐量，且每个数据库的预配吞吐量增加了 10K RU/秒，同时还向第一个数据库添加了新容器，共享吞吐量数据库的专用吞吐量模式为 15K RU /秒，则预配的总体容量为 155K RU/秒（60K RU/秒 + 80K RU/秒 + 15K RU/秒）。  

* 此时需支付：1,550 * 0.008 美元 = 12.40 美元/小时。  

* 假设一个月为 720 小时，如果 300 小时的预配吞吐量为 120K RU/秒，其余 420 小时的预配吞吐量为 155K RU/秒，则月度帐单将显示：300 x 9.60 美元/小时 + 420 x 12.40 美元/小时 = 2,880 美元 + 5,208 美元 = 8,088 美元/月。 

:::image type="content" source="./media/understand-your-bill/bill-example2.png" alt-text="共享吞吐量计费示例":::

## <a name="billing-examples-with-geo-replication"></a>异地复制的计费示例  

可随时随地向 Azure Cosmos 数据库帐户添加/删除 Azure 区域。 对于为不同 Azure Cosmos 数据库和容器配置的吞吐量，可在与 Azure Cosmos 数据库帐户关联的每个 Azure 区域中保留这些吞吐量。 如果在 Azure Cosmos 数据库帐户（按小时预配）中的所有数据库和容器上配置的预配吞吐量（RU/秒）之和为 T，并且与数据库帐户关联的 Azure 区域数为 N，则 Azure Cosmos 数据库帐户在某个给定小时的总预配吞吐量等于 T x N RU/秒。预配吞吐量（单个写入区域）每 100 RU/秒的成本为 0.008 美元/小时，多个可写区域（多区域写入配置）的预配吞吐量每 100 RU/秒的成本为 0.016 美元/小时（请参阅[定价页](https://azure.microsoft.com/pricing/details/cosmos-db/)）。 无论是单个写入区域还是多个写入区域，Azure Cosmos DB 都支持从任何区域读取数据。

### <a name="billing-example-multi-region-azure-cosmos-account-single-region-writes"></a>计费示例：多区域 Azure Cosmos 帐户，单个区域写入

假定存在位于美国西部的 Azure Cosmos 容器。 创建容器时，指定的吞吐量为 10K RU/秒，本月可存储 1 TB 的数据。 假定向 Azure Cosmos 帐户添加 3 个区域（美国东部、北欧和东亚），每个区域都具有相同的存储和吞吐量。 则月度帐单为（假定一个月 30 天）。 帐单情况如下： 

|**项目** |**使用情况（月）** |**费率** |**每月成本** |
|---------|---------|---------|-------|
|美国西部容器的吞吐量帐单      | 10K RU/秒 * 24 * 30    |100 RU/秒每小时 0.008 美元   |576 美元|
|3 个其他区域（美国东部、北欧和东亚）的吞吐量帐单       | 3 * 10K RU/秒 * 24 * 30    |100 RU/秒每小时 0.008 美元  |1,728 美元|
|美国西部容器的存储帐单      | 250 GB    |0\.25 美元/GB  |62.50 美元|
|3 个其他区域（美国东部、北欧和东亚）的存储帐单      | 3 * 250 GB    |0\.25 美元/GB  |187.50 美元|
|**总计**     |     |  |**2,554 美元**|

此外，假定每月从美国西部的容器中导出 100 GB 数据，将数据复制到美国东部、北欧和东亚。则需要按数据传输速率为导出部分付费。

### <a name="billing-example-multi-region-azure-cosmos-account-multi-region-writes"></a>计费示例：多区域 Azure Cosmos 帐户，多个区域写入

假定创建位于美国西部的 Azure Cosmos 容器。 创建容器时，指定的吞吐量为 10K RU/秒，本月可存储 1 TB 的数据。 假定添加 3 个区域（美国东部、北欧和东亚），每个区域的存储和吞吐量相同，并且希望能够写入与 Azure Cosmos 帐户关联的所有区域中的容器中。 则月度帐单（假定一个月 30 天）情况如下：

|**项** |**使用情况（月）**|**费率** |**每月成本** |
|---------|---------|---------|-------|
|美国西部容器的吞吐量帐单（所有区域都可写入）       | 10K RU/秒 * 24 * 30    |100 RU/秒每小时 0.016 美元    |1,152 美元 |
|3 个其他区域（美国东部、北欧和东亚）的吞吐量帐单（所有区域都可写入）        | 3 * 10K RU/秒 * 24 * 30    |100 RU/秒每小时 0.016 美元   |3,456 美元 |
|美国西部容器的存储帐单      | 250 GB    |0\.25 美元/GB  |62.50 美元|
|3 个其他区域（美国东部、北欧和东亚）的存储帐单      | 3 * 250 GB    |0\.25 美元/GB  |187.50 美元|
|**总计**     |     |  |**6,010 美元**|

此外，假定每月从美国西部的容器中导出 100 GB 数据，将数据复制到美国东部、北欧和东亚。则需要按数据传输速率为导出部分付费。

### <a name="billing-example-azure-cosmos-account-with-multi-region-writes-database-level-throughput-including-dedicated-throughput-mode-for-some-containers"></a>计费示例：包含多区域写入的 Azure Cosmos 帐户，数据库级别的吞吐量，其中包括某些容器的专用吞吐量模式

我们来看看以下示例，示例中包含一个多区域 Azure Cosmos 帐户，其中的所有区域都可写入（多个写入区域配置）。 为简单起见，假定存储大小保持不变，且不会更改，此处不考虑存储大小，从而简化示例。 本月的预配吞吐量变化如下（假定一月为 30 天或 720 小时）： 

[0-100 小时]：  

* 创建了包含 3 个区域的 Azure Cosmos 帐户（美国西部、美国东部和北欧），其中所有地区都可写入 

* 创建共享吞吐量为 10K RU/秒的数据库 (D1) 

* 创建共享吞吐量为 30k RU/秒的数据库 (D2)  

* 创建专用吞吐量为 20K RU/秒的容器 (C1) 

[101-200 小时]：  

* 将数据库 (D1) 纵向扩展到 50K RU/秒 

* 将数据库 (D2) 纵向扩展到 70K RU/秒  

* 删除容器 (C1)  

[201-300 小时]：  

* 再次创建专用吞吐量为 20K RU/秒的容器 (C1) 

[301-400 小时]：  

* 从 Azure Cosmos 帐户中删除 1 个区域（可写入的区域的数量现为 2 个） 

* 将数据库 (D1) 缩小到 10K RU/秒 

* 将数据库 (D2) 纵向扩展到 80K RU/秒  

* 再次删除容器 (C1) 

[401-500 小时]：  

* 将数据库 (D2) 缩小到 10K RU/秒  

* 再次创建专用吞吐量为 20K RU/秒的容器 (C1) 

[501-700 小时]：  

* 将数据库 (D1) 纵向扩展到 20K RU/秒  

* 将数据库 (D2) 纵向扩展到 100K RU/秒  

* 再次删除容器 (C1)  

[701-720 小时]：  

* 将数据库 (D2) 缩小到 50K RU/秒  

下图直观地呈现了本月 720 小时内总预配吞吐量的变化情况： 

:::image type="content" source="./media/understand-your-bill/bill-example3.png" alt-text="真实示例":::

将按以下方式计算月度总帐单（假定一个月为 30 天/720 小时）：

|**小时数**  |**RU/秒** |**项目** |**使用时间（小时）** |**成本** |
|---------|---------|---------|-------|-------|
|[0-100] |D1:10K <br/>D2:30K <br/>C1:20K |美国西部容器的吞吐量帐单（所有区域都可写入）  | `D1: 10K RU/sec/100 * $0.016 * 100 hours = $160` <br/>`D2: 30 K RU/sec/100 * $0.016 * 100 hours = $480` <br/>`C1: 20 K RU/sec/100 *$0.016 * 100 hours = $320` |960 美元  |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(2 + 1) * (60 K RU/sec /100 * $0.016) * 100 hours = $2,880`  |2,880 美元  |
|[101-200] |D1:50K <br/>D2:70K <br/>C1: -- |美国西部容器的吞吐量帐单（所有区域都可写入）  |`D1: 50 K RU/sec/100 * $0.016 * 100 hours = $800` <br/>`D2: 70 K RU/sec/100 * $0.016 * 100 hours = $1,120` |1920 美元  |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(2 + 1) * (120 K RU/sec /100 * $0.016) * 100 hours = $5,760`  |5,760 美元  |
|[201-300]  |D1:50K <br/>D2:70K <br/>C1:20K |美国西部容器的吞吐量帐单（所有区域都可写入）  |`D1: 50 K RU/sec/100 * $0.016 * 100 hours = $800` <br/>`D2: 70 K RU/sec/100 * $0.016 * 100 hours = $1,120` <br/>`C1: 20 K RU/sec/100 *$0.016 * 100 hours = $320` |2,240 美元  |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(2 + 1) * (140 K RU/sec /100 * $0.016-) * 100 hours = $6,720` |6,720 美元 |
|[301-400] |D1:10K <br/>D2:80K <br/>C1: -- |美国西部容器的吞吐量帐单（所有区域都可写入）  |`D1: 10K RU/sec/100 * $0.016 * 100 hours = $160` <br/>`D2: 80 K RU/sec/100 * $0.016 * 100 hours = $1,280`  |1,440 美元   |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(1 + 1) * (90 K RU/sec /100 * $0.016) * 100 hours = $2,880`  |2,880 美元  |
|[401-500] |D1:10K <br>D2:10K <br>C1:20K |美国西部容器的吞吐量帐单（所有区域都可写入）  |`D1: 10K RU/sec/100 * $0.016 * 100 hours = $160` <br>`D2: 10K RU/sec/100 * $0.016 * 100 hours = $160` <br>`C1: 20 K RU/sec/100 *$0.016 * 100 hours = $320` |640 美元  |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(1 + 1) * (40 K RU/sec /100 * $0.016) * 100 hours = $1,280`  |1,280 美元  |
|[501-700] |D1:20K <br>D2:100K <br>C1: -- |美国西部容器的吞吐量帐单（所有区域都可写入）  |`D1: 20 K RU/sec/100 * $0.016 * 200 hours = $640` <br>`D2: 100 K RU/sec/100 * $0.016 * 200 hours = $3,200` |3,840 美元  |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(1 + 1) * (120 K RU/sec /100 * $0.016) * 200 hours = $1,280`  |7,680 美元  |
|[701-720] |D1:20K <br/>D2:50K <br/>C1: -- |美国西部容器的吞吐量帐单（所有区域都可写入）  |`D1: 20 K RU/sec/100 *$0.016 * 20 hours = $64` <br/>`D2: 50 K RU/sec/100 *$0.016 * 20 hours = $160` |224 美元  |
| | |2 个其他区域的吞吐量帐单：美国东部、北欧（所有区域都可写入）  |`(1 + 1) * (70 K RU/sec /100 * $0.016) * 20 hours = $448`  |224 美元  |
|| |**每月总成本**  | |**38,688 美元**   |

## <a name="billing-examples-with-azure-cosmos-db-free-tier-accounts"></a><a id="azure-free-tier"></a>Azure Cosmos DB 免费层帐户的计费示例

使用 Azure Cosmos DB 免费层，你将在帐户中获得每秒前 1000 RU 的免费吞吐量和 25 GB 的免费存储（适用于帐户级别）。 超过 1000 RU/s 和 25 GB 的任何 RU/s 和存储都将按定价页面的常规定价费率计费。 在账单上，你看不到免费的 1000 RU/s 和 25 GB 的费用或行项，而只会看到超过免费层涵盖范围的吞吐量和存储。 有关详细信息，请参阅如何[创建免费层帐户](free-tier.md)一文。

### <a name="billing-example---container-or-database-with-provisioned-throughput"></a>计费示例 - 具有预配吞吐量的容器或数据库

- 假定在免费层帐户中创建了一个数据库或容器，并预配了 1000 RU/s 的吞吐量和 25 GB 的存储。
- 你的帐单不会显示有关此资源的任何费用。 每小时成本和每月成本将为 0 美元。
- 现在，假定在同一帐户中添加了另一个数据库或容器，并将其预配为 400 RU/s 的吞吐量和 10 GB 的存储。
- 现在帐单将显示 400 RU/s 吞吐量和 10 GB 存储的费用。

### <a name="billing-example---container-with-autoscale-throughput"></a>计费示例 - 具有自动缩放吞吐量的容器

- 假设在免费层帐户中，我们创建一个启用自动缩放功能的容器，最大吞吐量为 4000 RU/s。 此资源将自动在 400-4000 RU/s 吞吐量之间缩放。
- 假设在第 1-10 小时内，资源的吞吐量缩放至 1000 RU/s。 在第 11 个小时，该资源纵向扩展到 1600 RU/s，然后在该小时内又缩减到 1000 RU/s。
- 在第 1 -10 小时内，你需要支付的吞吐量费用为 0 美元，因为 1000 RU/s 已涵盖在免费层中。
- 在第 11 个小时，你需要支付的有效吞吐量为 1600 RU/s - 1000 RU/s = 600 RU/s，因为这是该小时内最高的 RU/s。 这将是该小时 100 RU/秒的 6 个单位，因此，该小时的吞吐量总成本将为 6 个单位 * 0.012 美元 = 0.072 美元。
- 超出前 25 GB 以外的任何存储都将按标准存储费率计费。

### <a name="billing-example---multi-region-single-write-region-account"></a>计费示例 - 多区域单个写入区域帐户

- 假设我们在免费层帐户中创建一个具有 1200 RU/s 吞吐量和 10 GB 存储的数据库或容器。 我们将帐户复制到 3 个区域。我们有单写入区域帐户。
- 如果不使用免费层，我们共需要支付 3 * 1200 RU/s = 3600 RU/s 吞吐量和 3 * 10 GB = 30 GB 存储的费用。
- 使用免费层折扣后，在扣除 1000 RU/s 的吞吐量和 25 GB 的存储后，我们需要支付 2600 RU/s（26 个单位）的有效预配吞吐量（按单一写入区域费率计费）和 5 GB 的存储。
- 每月 RU/s 成本将为：26 个单位 * 0.008 美元 * 24 小时 * 31 天 = 154.75 美元。 每月存储成本将为：5 GB * 0.25 / GB = 1.25 美元。 总成本将为 154.75 美元 + 1.25 美元 = 156 美元。

> [!NOTE]
> 如果各区域的吞吐量或存储单价不同，则免费层的 1000 RU/s 吞吐量和 25 GB 存储将反映创建帐户所在区域的费率。

### <a name="billing-example---multi-region-account-with-multiple-write-regions"></a>计费示例 - 多区域多写入区域帐户

此示例反映了在 2019 年 12 月 1 日之后创建的帐户的[多区域写入定价](https://azure.microsoft.com/pricing/details/cosmos-db/)。

- 假设我们在免费层帐户中创建一个具有 1200 RU/s 吞吐量和 10 GB 存储的数据库或容器。 我们将帐户复制到 3 个区域。我们有一个多写入区域帐户。
- 如果不使用免费层，我们共需要支付 3 * 1200 RU/s = 3600 RU/s 吞吐量和 3 * 10 GB = 30 GB 存储的费用。
- 使用免费层折扣后，在扣除 1000 RU/s 的吞吐量和 25 GB 的存储后，我们需要支付 2600 RU/s（26 个单位）的有效预配吞吐量（按多个写入区域费率计费）和 5 GB 的存储。
- 每月 RU/s 成本将为：26 个单位 * 0.016 美元 * 24 小时 * 31 天 = 309.50 美元。 每月存储成本将为：5 GB * 0.25 / GB = 1.25 美元。 总成本将为 309.50 美元 + 1.25 美元 = 310.75 美元。

### <a name="billing-example--azure-free-account"></a>计费示例 - Azure 免费帐户

假设你有一个 Azure 免费帐户，其中有一个 Azure Cosmos DB 免费层帐户。 Azure Cosmos DB 帐户具有单个写入区域。

- 你创建了一个数据库或容器，并分配了 2000 RU/s 吞吐量和 55 GB 存储。
- 在前 12 个月内，帐单不会显示针对 1400 RU/s（Azure Cosmos DB 免费层的 1000 RU/s 和 Azure 免费帐户的 400 RU/s）和 50 GB 存储（Azure Cosmos DB 免费层的 25 GB 和 Azure 免费帐户的 25 GB）的任何费用。
- 在扣除 1400 RU/s 的吞吐量和 50 GB 的存储后，我们需要支付 600 RU/s（6 个单位）的有效预配吞吐量（按单一写入区域费率计费）和 5 GB 的存储。
- 每月 RU/s 成本将为：6 个单位 * 0.008 美元 * 24 小时 * 31 天 = 35.72 美元。 每月存储成本将为：5 GB * 0.25 / GB = 1.25 美元。 总成本将为 35.72 美元 + 1.25 美元 = 36.97 美元。
- 12 个月期限后，Azure 免费帐户折扣不再适用。 应用 Azure Cosmos DB 免费层折扣后，需要为 1000 RU/s（10 个单位）的有效预配吞吐量（按单一写入区域费率计费）和 30 GB 的存储付费。

## <a name="proactively-estimating-your-monthly-bill"></a>主动估算每月帐单  

我们来看看另一个示例，介绍希望在月末之前主动估算帐单的情况。 可按如下方式估算帐单：

**存储成本**

* 平均记录大小 (KB) = 1 
* 记录数 = 100,000,000 
* 总存储 (GB) = 100 
* 每 GB 的月度成本 = 0.25 美元 
* 预期的月度存储成本 = 25.00 美元 

**吞吐量成本**

|操作类型| 请求数/秒| 平均值RU/请求| 所需 RU|
|----|----|----|----|
|写入| 100 | 5 | 500|
|读取| 400| 1| 400|

总 RU/秒：500 + 400 = 900；每小时成本：900/100 * 0.008 美元 = 0.072 美元；预期的月度吞吐量成本（假定一月 31 天）：0.072 美元 * 24 * 31 = 53.57 美元

**每月总成本**

月度总成本 = 月度存储成本 + 月度吞吐量成本；月度总成本 = 25.00 美元 + 53.57 美元 = 78.57 美元

区域不同定价可能有所不同。有关最新定价，请参阅[定价页面](https://azure.microsoft.com/pricing/details/cosmos-db/)。

## <a name="billing-with-azure-cosmos-db-reserved-capacity"></a>通过 Azure Cosmos DB 保留容量计费

使用 Azure Cosmos DB 保留容量可提前购买预配吞吐量（保留容量或预留），这些吞吐量可用于所有 Azure 区域中的所有 Azure Cosmos 数据库和容器（适用于任何 API 或数据模型）。 因为预配的吞吐量价格因区域而异，所以可将保留容量视为以折扣价购买的货币额度，并可根据各区域相应价格针对预配吞吐量来使用该额度。 例如，假定有一个 Azure Cosmos 帐户，其中包含配置有 50K RU/秒吞吐量的单个容器，并且全局复制了 2 个区域 – 美国东部和日本东部。 如果选择即用即付，则需支付：  

* 在美国东部：对于 50K RU /秒，该地区的费率为每 100 RU/秒 0.008 美元 

* 在日本东部：对于 50K RU /秒，该地区的费率为每 100 RU/秒 0.009 美元

总帐单（无保留容量）将为（假定一月为 30 天或 720 小时）： 

|**区域**| **每 100 RU/秒每小时的价格**|**单位数（RU/秒）**|**计费数量（每小时）**| **计费数量（每月）**|
|----|----|----|----|----|
|美国东部|0\.008 美元 |50K|4 美元|2,880 美元 |
|日本东部|0\.009 美元 |50K| 4\.50 美元 |3,240 美元 |
|总计|||8\.50 美元|6,120 美元 |

我们假定已改为购买保留容量。 可以 56,064 美元的价格购买 100K RU/秒的保留容量，为期一年（享受 20％折扣），或以每小时 6.40 美元的价格购买。 请参阅[定价页面](https://azure.microsoft.com/pricing/details/cosmos-db/)上的保留容量定价。  

* 吞吐量成本（即用即付）：100,000 RU/秒/100 * 0.008 美元/小时 * 8760 小时/年 = 70,080 美元 

* 吞吐量成本（含保留容量）70,080 美元可享受 20% 的折扣 = 56,064 美元 

实际购买的是每小时 8 美元的信用额度，以每小时 6.40 美元的价格购买采用美国东部定价的 100 K RU/秒。 然后可以在全球任何 Azure 区域中根据为订阅设定的相应区域定价为预配的吞吐量容量消费此预付的预留吞吐量（按小时计）。 在本例中，在美国东部和日本东部各预配 50K RU/秒，那每小时能使用价值 8.00 美元的预配吞吐量，且平均每小时将支付 0.50 美元（或 360 美元/月）。 

|**区域**| **每 100 RU/秒每小时的价格**|**单位数（RU/秒）**| **计费数量（每小时）**| **计费数量（每月）**|
|----|----|----|----|----|
|美国东部|0\.008 美元 |50K|4 美元|2,880 美元 |
|日本东部|0\.009 美元 |50K| 4\.50 美元 |3,240 美元 |
|||即用即付|8\.50 美元|6120 美元|
|购买的保留容量|0\.0064 美元（20% 折扣） |100 RU/秒或预先购买的 8 美元的容量 |-8 美元|-5,760 美元 |
|净计费|||0\.50 美元 |360 美元 |

## <a name="next-steps"></a>后续步骤

接下来，可通过以下文章了解 Azure Cosmos DB 中的成本优化：

* 详细了解 [Cosmos DB 定价模型如何对客户而言更具经济效益](total-cost-ownership.md)
* 详细了解[开发和测试优化](optimize-dev-test.md)
* 详细了解如何[优化吞吐量成本](optimize-cost-throughput.md)
* 详细了解如何[优化存储成本](optimize-cost-storage.md)
* 详细了解如何[优化读取和写入成本](optimize-cost-reads-writes.md)
* 详细了解如何[优化查询成本](./optimize-cost-reads-writes.md)
* 详细了解[优化多区域 Azure Cosmos 帐户的成本](optimize-cost-regions.md)
* 正在尝试为迁移到 Azure Cosmos DB 进行容量计划？ 可以使用有关现有数据库群集的信息进行容量计划。
    * 若只知道现有数据库群集中的 vCore 和服务器数量，请阅读[使用 vCore 或 vCPU 估算请求单位](convert-vcore-to-request-unit.md) 
    * 若知道当前数据库工作负载的典型请求速率，请阅读[使用 Azure Cosmos DB 容量计划工具估算请求单位](estimate-ru-with-capacity-planner.md)
