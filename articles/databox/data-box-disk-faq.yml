### YamlMime:FAQ
metadata:
  title: Microsoft Azure Data Box 磁盘常见问题解答 | Microsoft Docs
  description: 包含有关 Azure Data Box 磁盘（用于将大量数据传输到 Azure 的云解决方案）的常见问答和解答
  services: databox
  author: alkohli
  ms.service: databox
  ms.subservice: disk
  ms.topic: conceptual
  ms.date: 03/02/2021
  ms.author: alkohli
  ms.custom: references_regions
  ms.openlocfilehash: 5e34273d7794209943cf46f9325ffc7f058c4976
  ms.sourcegitcommit: 8b38eff08c8743a095635a1765c9c44358340aa8
  ms.translationtype: HT
  ms.contentlocale: zh-CN
  ms.lasthandoff: 06/30/2021
  ms.locfileid: "113094764"
title: Azure Data Box Disk：常见问题
summary: >
  使用 Microsoft Azure Data Box 磁盘云解决方案可以通过快速、经济、可靠的方式将 TB 量级的数据发送到 Azure。 本常见问题解答文章包含在 Azure 门户中使用 Data Box 磁盘时可能遇到的问题及其解答。
sections:
- name: 关于该服务
  questions:
  - question: "什么是 Azure Data Box 服务？ \n"
    answer: "Azure Data Box 服务专为脱机数据引入而设计。 此服务可以管理针对数据传输定制的、具有不同存储容量的所有产品组合。 \n"
  - question: >
      什么是 Azure Data Box 磁盘？
    answer: "使用 Azure Data Box 磁盘能够快速、经济、安全地将 TB 量级的数据传入和传出 Azure。 Microsoft 会向你寄送 1 到 5 个磁盘，每个磁盘的最大存储容量为 35 TB。 可以通过 Azure 门户中的 Data Box 服务轻松配置、连接和解锁这些磁盘。  \n\n磁盘已使用 Microsoft BitLocker 驱动器加密进行加密，可在 Azure 门户中管理加密密钥。 然后，从客户的服务器复制数据。 在数据中心，Microsoft 会使用高速专用网络上传链路将数据从驱动器迁移到云中，然后将其上传到 Azure。\n"
  - question: >
      何时应使用 Data Box 磁盘？
    answer: >
      如果需要将 40 TB（或更少）的数据传输到 Azure，则使用 Data Box Disk 会很有利。
  - question: >
      Data Box 磁盘的价格是多少？
    answer: >
      有关 Data Box Disk 的价格，请访问[定价页](https://azure.microsoft.com/pricing/details/databox/disk/)。
  - question: "如何获取 Data Box 磁盘？ \n"
    answer: >
      若要获取 Azure Data Box Disk，请登录到 Azure 门户并创建磁盘的 Data Box 订单。 提供联系信息和通知详细信息。 在你提交订单后，我们会在 10 天内将磁盘寄送给你，具体时间取决于磁盘的供货情况。
  - question: >
      在一个实例中使用 Data Box 磁盘最多可以传输多少数据？
    answer: >
      如果使用五个磁盘，并且每个磁盘具有 8 TB 容量（7 TB 可用容量），则最大可用容量为 35 TB。 因此，可在一个实例中传输 35 TB 数据。 若要传输更多数据，需订购更多的磁盘。
  - question: "如何检查 Data Box 磁盘是否在我的区域中可用？ \n"
    answer: "若要查看目前提供 Data Box Disks 的区域，请转到[区域可用性](data-box-disk-overview.md#region-availability)。  \n"
  - question: >
      使用 Data Box 磁盘可在哪些区域存储数据？
    answer: >
      美国、加拿大、欧盟、英国、澳大利亚、新加坡、印度、中国、香港特别行政区、日本、韩国和南非的所有区域均支持 Data Box Disk。 仅支持 Azure 公有云区域。 不支持 Azure 政府版或其他主权云。
  - question: >
      如何将位于一个国家/地区的某个位置的源数据导入到另一个国家/地区的 Azure 区域？
    answer: "Data Box Disk 仅支持在其目的地所在的国家/地区引入数据，不会跨越任何国际边界。 唯一的例外是在欧盟 (EU) 的订单，Data Box Disk 可以在任何 EU 国家/地区之间寄送。\n\n例如，如果想要将位于加拿大的数据移到 Azure 美国西部存储帐户，则可以通过以下方式实现此目的：\n\n选项 1： \n\n使用 [Azure 导入/导出服务](../import-export/storage-import-export-service.md)将包含数据的[受支持磁盘](../import-export/storage-import-export-requirements.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json#supported-disks)从加拿大的源位置寄送到 Azure 美国西部数据中心。\n\n选项 2：\n\n1. 通过选择位于加拿大中部的存储帐户，在加拿大订购 Data Box Disk。 SSD 盘从位于加拿大中部的一个 Azure 数据中心寄送到创建订单时提供的送货地址（位于加拿大）。\n\n2. 将本地服务器中的数据复制到磁盘后，请使用 Microsoft 提供的退货标签将这些磁盘寄回位于加拿大的 Azure 数据中心。 然后，Data Box Disk 上的数据会被上传到创建订单时选择的加拿大 Azure 区域中的目标存储帐户。\n\n3. 接下来，你可以使用 AzCopy 之类的工具将数据复制到美国西部的存储帐户。 此步骤会产生 Data Box Disk 计费中未包含的[标准存储](https://azure.microsoft.com/pricing/details/storage/)和[带宽费用](https://azure.microsoft.com/pricing/details/bandwidth/)。\n"
  - question: >
      Data Box Disk 会在服务区域外存储任何客户数据吗？
    answer: "不是。 Data Box Disk 不会在服务区域外存储任何客户数据。 客户对数据享有完全所有权，可以根据在创建订单时所选的存储帐户将数据保存到指定位置。  \n\n除了客户数据之外，还有包括元数据和监视日志的 Data Box Disk 数据。 在除巴西南部和东南亚以外的所有区域中，Data Box Disk 数据都是通过异地冗余存储帐户在[配对区域](../best-practices-availability-paired-regions.md)中进行存储和复制的，以防止数据丢失。  \n\n考虑到巴西南部和东南亚的[数据驻留要求](https://azure.microsoft.com/global-infrastructure/data-residency/#more-information)，Data Box Disk 数据存储在区域冗余存储 (ZRS) 帐户中，从而包含在单个区域中。 东南亚的所有 Data Box Disk 数据都存储在新加坡，巴西南部的数据存储在巴西。 \n\n如果巴西南部和东南亚发生服务中断，客户可以从其他区域创建新订单。 将从创建新订单的区域提供新订单，客户负责 Data Box Disk 的来回运输。\n"
  - question: >
      如果整个区域发生故障，我如何恢复数据？
    answer: >
      在由于重大灾难而导致区域丢失的极端情况下，Microsoft 可能会启动区域故障转移。 在这种情况下，你不需要执行任何操作。 如果故障转移区域位于同一个国家/地区或商务区域内，会通过该区域履行订单。 但是，一些 Azure 区域在同一地理区域或商务区域内没有配对的区域。 如果其中任何一个区域发生灾难，你需要再次从可用的其他区域创建 Data Box 订单，并将数据复制到位于新区域中的 Azure。 有关详细信息，请参阅[业务连续性和灾难恢复 (BCDR)：Azure 配对区域](../best-practices-availability-paired-regions.md)。
  - question: >
      如果 Data Box 磁盘出现任何问题，我应该与谁联系？
    answer: >
      如果 Data Box Disk 出现任何问题，请[联系 Microsoft 支持部门](./data-box-disk-contact-microsoft-support.md)。
- name: 订购设备
  questions:
  - question: "如何获取 Data Box Disk？ \n"
    answer: >
      若要获取 Azure Data Box Disk，请登录 Azure 门户并创建 Data Box Disk 订单。 提供联系信息和通知详细信息。 提交订单后，我们会在 10 天内将 Data Box Disk 送达，具体时间取决于 Data Box Disk 的供货情况。 有关详细信息，请转到[订购 Data Box](data-box-disk-deploy-ordered.md)。
  - question: >
      我无法在 Azure 门户中创建 Data Box Disk 订单。 为什么？
    answer: >
      如果无法创建 Data Box Disk 订单，有可能是订阅类型或访问权限的问题。


      请查看你的订阅。 Data Box Disk 仅适用于企业协议 (EA) 和云解决方案提供商 (CSP) 订阅产品/服务。 如果没有上述任何一种订阅类型，请联系 Microsoft 支持部门升级订阅。


      如果具有受支持的订阅产品/服务类型，请查看订阅访问级别。 只有订阅的参与者或所有者才能创建订单。
  - question: >
      从创建订单到将数据上传到 Azure 需要多长时间？
    answer: "以下每个订单处理阶段的预计提前期有助于你充分了解预期内容。  \n\n这些提前期是估算值。 订单处理的每个阶段的时间都受到数据中心负载、并发订单和其他环境条件的影响。\n\nData Box Disk 订单的预计提前期：\n\n1. 订购 Data Box Disk：几分钟，从门户\n2. 磁盘分配和准备：最多 5 个工作日，具体取决于库存可用性和待处理的订单数量\n3. 寄送：2-3 个工作日\n4. 客户站点上的数据复制：取决于数据的性质、大小和文件数。\n5. 退货：2-3 个工作日\n6. 在数据中心处理并上传到 Azure：一旦完成操作处理并连接了磁盘，就会在数据中心开始数据上传。 上传时间取决于数据的性质、大小和文件数。\n"
- name: 配置和连接
  questions:
  - question: >
      是否可在订单中指定 Data Box 磁盘的数目？
    answer: "不是。 根据数据大小和磁盘的供货情况，你最多会收到五个 8 TB 磁盘。  \n"
  - question: "如何解锁 Data Box 磁盘？ \n"
    answer: "在 Azure 门户中，转到自己的 Data Box 磁盘订单，并导航到“设备详细信息”。 复制支持密钥。 从 Azure 门户下载并提取适用于操作系统的 Data Box Disk 解锁工具。 在具有要复制到磁盘的数据的计算机上运行该工具。 提供支持密钥以解锁磁盘。 同一个支持密钥可解锁所有磁盘。 \n\n有关分步说明，请转至[在 Windows 客户端上解锁磁盘](data-box-disk-deploy-set-up.md#unlock-disks-on-windows-client)或[在 Linux 客户端上解锁磁盘](data-box-disk-deploy-set-up.md#unlock-disks-on-linux-client)。\n"
  - question: >
      是否可以使用 Linux 主机建立连接并将数据复制到 Data Box 磁盘？
    answer: >
      是的。 Linux 和 Windows 客户端都可用于连接数据并将数据复制到 Data Box Disk。 有关详细信息，请转到主机的[受支持操作系统](data-box-disk-system-requirements.md)列表。
  - question: >
      我的磁盘已发货，但现在我想取消此订单。 为何取消按钮不可用？
    answer: "订购磁盘后，只能在发货之前取消订单。 磁盘一旦发货，就再也不能取消订单。 但是，你可以将磁盘退货，需要支付一定的费用。 \n"
  - question: >
      是否可以同时将多个 Data Box 磁盘连接到主机来传输数据？
    answer: >
      是的。 可将多个 Data Box 磁盘连接到同一主机来传输数据，多个复制作业可以并行运行。
- name: 跟踪状态
  questions:
  - question: "从下单到退回磁盘的整个过程中，如何跟踪磁盘的订单状态？ \n"
    answer: >
      可以在 Azure 门户中跟踪 Data Box 磁盘的订单状态。 创建订单时，系统还会提示你提供通知电子邮件。 如果已提供，则在订单状态发生任何变化时，你都会收到电子邮件通知。 详细了解如何[配置通知电子邮件](data-box-portal-ui-admin.md#edit-notification-details)。
  - question: "如何退回磁盘？ \n"
    answer: >
      Microsoft 会在发货包装中连同 Data Box 磁盘一起提供一个发货标签。 在快递公司寄件时，请将该标签贴在包装箱上，并密封包装。 如果该标签已损坏或丢失，请转到“概述”>“下载发货标签”，并下载新的退货标签。
  - question: >
      我可以自己提取 Data Box Disk 订单吗？ 能否通过我选择的承运人退回磁盘？
    answer: "是的。 Microsoft 还仅在 US Gov 区域提供自我管理的发货。 在下 Data Box Disk 订单时，可以选择“自我管理的发货”选项。 若要提取 Data Box Disk 订单，请执行以下步骤：\n    \n1. 在你下完订单后，我们将处理订单并准备好磁盘。 将通过电子邮件通知你订单已准备好进行提货。 \n2. 在订单准备好提货后，请在 Azure 门户中转到你的订单，并导航到“概述”边栏选项卡。 \n3. 你将在 Azure 门户中看到一个包含代码的通知。 向 [Azure Data Box 运营团队](mailto:adbops@microsoft.com)发送电子邮件，并向他们提供该代码。 该团队将提供位置并安排取货日期和时间。 你必须在收到电子邮件通知后 5 个工作日内致电该团队。\n\n数据复制和验证完成后，请执行以下步骤来退回磁盘：\n\n1. 数据验证完成后，请取出磁盘。 拔下连接线。\n2. 用气泡膜包裹所有磁盘和连接线，并将其放入包装箱中。 如果缺少附件，我们可能会收取费用。\n\n    - 重复使用最初的发货包装。 我们建议使用加固的气泡袋包装磁盘。\n    - 确保填塞物贴合，以避免磁盘在包装箱中发生移动。\n3. 在 Azure 门户中转到订单的“概述”边栏选项卡。 应会看到一个包含代码的通知。\n4. 使用该代码向 [Azure Data Box 运营团队](mailto:adbops@microsoft.com)发送电子邮件，并向他们提供该代码。 他们会为你提供有关何时何地放下磁盘的信息。\n"
- name: 迁移数据
  questions:
  - question: "在 Data Box 磁盘中最多可以使用多少数据？  \n"
    answer: >
      Data Box 磁盘解决方案最多提供 5 个磁盘，最大可用容量为 35 TB。 磁盘本身容量为 8 TB（7 TB 可用容量）。
  - question: "Data Box 磁盘支持的最大块 Blob 和页 Blob 大小是什么？ \n"
    answer: >
      最大大小受制于 Azure 存储限制。 最大块 Blob 大致为 4.768 TiB，最大页 Blob 大小为 8 TiB。 有关详细信息，请参阅 [Blob 存储的可伸缩性和性能目标](../storage/blobs/scalability-targets.md)。
  - question: >
      Data Box 磁盘的数据传输速度是多少？
    answer: >
      对通过 USB 3.0 连接的磁盘进行测试时，磁盘性能最高为 430 MB/秒。 实际数字根据所用的文件大小而异。 传输较小的文件时，性能可能会下降。
  - question: "如何知道我的数据在传输过程中是否安全？ \n"
    answer: >
      Data Box 磁盘已使用 BitLocker AES-128 位加密进行加密，支持密钥只在 Azure 门户中提供。 使用帐户凭据登录到 Azure 门户即可获取支持密钥。 运行 Data Box 磁盘解锁工具时，请提供此支持密钥。
  - question: "如何将数据复制到 Data Box 磁盘？ \n"
    answer: >
      使用 `Robocopy`、`Diskboss` 等 SMB 复制工具，甚至是 Windows 文件资源管理器的拖放式操作，即可将数据复制到磁盘。
  - question: >
      在加快数据复制方面你们是否有诀窍？
    answer: >
      若要加快复制过程：


      - 使用多个数据复制流。 例如，在 `Robocopy` 中使用多线程选项。 有关所用的确切命令的详细信息，请转到[教程：将数据复制到 Azure Data Box Disk 并进行验证](data-box-disk-deploy-copy-data.md#copy-data-to-disks)。

      - 使用多个会话。

      - 不通过网络共享进行复制（否则可能受到网络速度的限制）可确保使数据驻留在磁盘所连接到计算机本地。

      - 在整个复制过程中，确保使用 USB 3.0 或更高版本。 下载并使用 [`USBView` 工具](/windows-hardware/drivers/debugger/usbview)，以识别已连接到计算机的 USB 控制器和 USB 设备。

      - 为用于复制数据的计算机建立性能基准。 下载并使用 [`Bluestop` `FIO` 工具](https://ci.appveyor.com/project/axboe/fio)来建立服务器硬件的性能基准。 选择最新的 x86 或 x64 版本，选择“项目”选项卡，然后下载 MSI。
  - question: >
      如果源数据包含小型文件（几个 KB 或 MB），如何加速数据复制？
    answer: >
      若要加快复制过程：


      - 在高速存储上创建本地 VHDx，或者在 HDD/SSD（速度较慢）上创建空的 VHD。

      - 将其装载到 VM。

      - 将文件复制到 VM 的磁盘。
  - question: >
      是否可对 Data Box 磁盘使用多个存储帐户？
    answer: >
      不是。 Data Box 磁盘目前仅支持一个存储帐户（常规或经典帐户）。 支持热 Blob 和冷 Blob。
  - question: >
      Data Box Disk 提供了用于处理数据的什么工具集？
    answer: "随 Data Box Disk 提供的工具集包含三个工具：\n - **Data Box Disk 解锁工具**：可以使用此工具来解锁 Microsoft 寄送的已加密磁盘。 使用此工具解锁磁盘时，需要提供从 Azure 门户中的 Data Box Disk 订单中获得的密钥。 \n - **Data Box Disk 验证工具**：可以使用此工具根据 Azure 命名约定来验证大小、格式和 Blob 名称。 它还会生成复制的数据的校验和，然后使用校验和来验证上传到 Azure 的数据。\n - **Data Box Disk 拆分复制工具**：如果使用多个磁盘，并且需要拆分大型数据集并将其复制到所有磁盘中，请使用此工具。 此工具当前可用于 Windows。 托管磁盘不支持此工具。 此工具会在复制数据时进行验证，因此可以在使用此工具时跳过验证步骤。\n\n此工具集可用于 Windows 和 Linux。 可以从以下位置下载此工具集：\n- [下载适用于 Windows 的 Data Box Disk 工具集](https://aka.ms/databoxdisktoolswin) \n- [下载适用于 Linux 的 Data Box Disk 工具集](https://aka.ms/databoxdisktoolslinux)\n \n"
  - question: "我可以使用 Data Box Disk 将数据传输到 Azure 文件，然后在 Azure 文件同步中使用该数据吗？ \n"
    answer: >
      Azure 文件可以与 Data Box Disk 配合使用，但不能与 Azure 文件同步配合使用。如果在 Azure 文件同步中使用文件数据，元数据不会保留。
- name: 验证和上传
  questions:
  - question: "寄回磁盘后，多久可以访问我在 Azure 中的数据？ \n"
    answer: >
      一旦“数据复制”的订单状态显示为已完成，应该立即就能访问数据。
  - question: >
      上传后，我的数据位于 Azure 中的哪个位置？
    answer: >
      复制磁盘中 *BlockBlob* 和 *PageBlob* 文件夹下的数据时，系统会针对 *BlockBlob* 和 *PageBlob* 文件夹下的每个子文件夹，在 Azure 存储帐户中创建一个容器。 如果直接复制了 BlockBlob 和 PageBlob 文件夹下的文件，则这些文件将位于 Azure 存储帐户下的默认容器 $root 中  。 将数据复制到 *AzureFile* 文件夹下的某个文件夹时，会创建文件共享。
  - question: >
      我刚刚发现，我并未遵循容器的 Azure 命名要求。 我的数据是否无法上传到 Azure？
    answer: >
      容器名称中的所有大写字母会自动转换为小写字母。 如果名称存在其他方面的不合规情况（例如包含特殊字符或采用其他语言），则上传将会失败。 有关详细信息，请转到 [Azure 命名约定](data-box-disk-limits.md#azure-block-blob-page-blob-and-file-naming-conventions)。
  - question: >
      如何验证已复制到多个 Data Box 磁盘的数据？
    answer: >
      数据复制完成后，可以运行 *DataBoxDiskImport* 文件夹中提供的 `DataBoxDiskValidation.cmd` 来生成校验和，以用于验证。 如果有多个磁盘，则需要针对每个磁盘打开命令窗口，并运行此命令。 请注意，根据具体的数据大小，此操作可能需要花费很长时间（大约数小时数）。
  - question: >
      退回磁盘后，我的数据会发生什么情况？
    answer: "完成将数据复制到 Azure 的过程后，会根据 NIST SP 800-88 修订版 1 中的指导原则，安全擦除磁盘中的数据。  \n"
  - question: "在传输期间我的数据会受到怎样的保护？ \n"
    answer: >
      Data Box Disk 由 AES-128 Microsoft BitLocker 加密进行加密，需要使用一个密钥才能解锁所有磁盘并访问数据。
  - question: >
      如果将更多数据添加到 Data Box 磁盘，是否需要重新运行校验和验证？
    answer: >
      是的。 将更多数据添加到 Data Box 磁盘后，如果你确定要验证数据（我们不建议这样做！），则需要重新运行验证。
  - question: >
      我已将所有的磁盘用于传输数据，现在需要订购更多的磁盘。 是否有某种方法可让我快速下单？
    answer: >
      可以克隆以前的订单。 克隆操作会创建与以前相同的订单，并允许编辑订单详细信息（仅限这些信息），而无需键入地址、联系人和通知详细信息。
  - question: >
      我将数据复制到了 ManagedDisk 文件夹。 我没有看到任何指定了资源组的托管磁盘。 我的数据是否已上传到 Azure？ 如何找到数据？
    answer: >
      是的。 你的数据已上传到 Azure，但如果你看不到任何具有指定资源组的托管磁盘，则可能是因为该数据无效。 如果页 blob、块 blob、Azure 文件存储或托管磁盘无效，系统会将它们置于以下文件夹中：
       - 页 blob 会进入以 databoxdisk-invalid-pb- 开头的块 blob 容器。
       - Azure 文件存储会进入以 databoxdisk-invalid-af- 开头的块 blob 容器。
       - 托管磁盘会进入以 databoxdisk-invalid-md- 开头的块 blob 容器。
additionalContent: "\n## <a name=\"next-steps\"></a>后续步骤\n\n- 查看 [Data Box Disk 系统要求](data-box-disk-system-requirements.md)。\n- 了解 [Data Box 磁盘限制](data-box-disk-limits.md)。\n- 在 Azure 门户中快速部署 [Azure Data Box 磁盘](data-box-disk-quickstart-portal.md)。"
