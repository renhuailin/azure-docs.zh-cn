---
title: EDIFACT 消息设置
description: 有关在配有 Enterprise Integration Pack 的 Azure 逻辑应用协议中进行 EDIFACT 消息设置的参考指南。
services: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: estfan, azla
ms.topic: reference
ms.date: 09/29/2021
ms.openlocfilehash: 05d39063a6b85eae3f247e44f10118b4cf99eded
ms.sourcegitcommit: 03e84c3112b03bf7a2bc14525ddbc4f5adc99b85
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/03/2021
ms.locfileid: "129403109"
---
# <a name="reference-for-edifact-message-settings-in-agreements-for-azure-logic-apps"></a>有关在 Azure 逻辑应用的协议中进行 EDIFACT 消息设置的参考

本参考将介绍为了指定如何处理[参与方](logic-apps-enterprise-integration-partners.md)之间的消息而可在 EDIFACT 协议中设置的属性。 请根据与消息交换合作伙伴之间达成的协议来配置这些属性。

<a name="EDIFACT-inbound-messages"></a>

## <a name="edifact-receive-settings"></a>EDIFACT 接收设置

![显示 Azure 门户中入站消息的 EDIFACT 协议设置的屏幕截图。](./media/logic-apps-enterprise-integration-edifact-message-settings/edifact-receive-settings.png)

### <a name="identifiers"></a>标识符

| 属性 | 说明 |
|----------|-------------|
| **UNB6.1 (收件人引用密码)** | 长度为 1-14 个字符的字母数字值。 |
| **UNB6.2 (收件人引用限定符)** | 长度为 1-2 个字符的字母数字值。 |
|||

### <a name="acknowledgments"></a>致谢

| 属性 | 说明 |
|----------|-------------|
| **接收消息(CONTRL)** | 基于协议的发送设置向交换发送方返回技术 (CONTRL) 确认。 |
| **确认(CONTRL)** | 基于协议的发送设置向交换发送方返回功能 (CONTRL) 确认。 |
|||

<a name="receive-settings-schemas"></a>

### <a name="schemas"></a>架构

| 属性 | 说明 |
|----------|-------------|
| UNH2.1 (类型) | 事务集类型。 |
| UNH2.2 (版本) | 长度为 1-3 个字符的消息版本号。 |
| UNH2.3 (发行版) | 长度为 1-3 个字符的消息发行版号。 |
| UNH2.5 (关联的已分配代码) | 长度为 1-6 个字符的已分配字母数字代码。 |
| UNG2.1 (应用发送方 ID) |输入包含最少一个字符且最多 35 个字符的字母数字值。 |
| UNG2.2 (应用发送方代码限定符) |输入包含最多四个字符的字母数字值。 |
| **架构** | 以前上传的要在以下任一资源类型中使用的架构： <p>- 消耗：已链接到你的逻辑应用的集成帐户。 <br>- 标准：你的逻辑应用资源 |
|||

### <a name="control-numbers"></a>控制编号

| 属性 | 说明 |
|----------|-------------|
| 不允许交换控制编号重复项 | 阻止重复交换。 EDIFACT 解码操作会检查收到的交换的交换控制编号 (UNB5) 是否与以前处理的交换控制编号不匹配。 如果检测到匹配项，则不处理交换。 |
| **检查重复的 UNB5 的时间间隔为每(天)** | 如果选择禁止重复的交换控制编号，可以指定运行检查的间隔天数。 |
| 不允许组控制编号重复项 | 阻止具有重复组控制编号 (UNG5) 的交换。 |
| 不允许事务集控制编号重复项 | 阻止具有重复事务集控制编号 (UNH1) 的交换。 |
| **EDIFACT 确认控制编号** | 通过为前缀、引用编号范围和后缀输入值，指定要在确认中使用的事务集引用编号。 |
|||

### <a name="validation"></a>验证

设置完验证行后，下一行将自动显示。 如果未指定任何规则，验证将使用标记为“默认”的行。

| 属性 | 说明 |
|----------|-------------|
| 消息类型 | EDI 消息类型。 |
| EDI 验证 | 根据架构的 EDI 属性、长度限制、空数据元素和尾部分隔符的定义，对数据类型运行 EDI 验证。 |
| 扩展验证 | 如果数据类型不是 EDI，则验证将根据数据元素要求运行，且允许重复、枚举和数据元素长度验证（最小值和最大值）。 |
| 允许前导零/尾随零 | 保留所有额外的前导或尾随零和空格字符。 不要删除这些字符。 |
| 剪裁前导零/尾随零 | 删除前导或尾随零和空格字符。 |
| 尾随分隔符策略 | 生成尾部分隔符。 <p> - 不允许：禁止在接收的交换中包含尾随分隔符。 如果交换包含尾部分隔符，会将它声明为无效。 <p>- 可选：接受包含或不包含尾随分隔符的交换。 <p>- 必需：收到的交换必须包含尾随分隔符。 |
|||

### <a name="internal-settings"></a>内部设置

| 属性 | 说明 |
|----------|-------------|
| 如果允许尾随分隔符，请创建空的 XML 标记 | 交换发送方包含用作尾随分隔符的空 XML 标记。 |
| 将交换拆分为事务集 - 出错时暂停事务集 | 通过将相应信封应用于事务集，将交换中的每个事务集分析为单独 XML 文档。 仅暂停未通过验证的事务集。 |
| 将交换拆分为事务集 - 出错时暂停交换 | 通过应用相应信封，将交换中的每个事务集分析为单独 XML 文档。 如果交换中的一个或多个事务集未能通过验证，则暂停整个交换。 |
| 保留交换 - 出错时暂停事务集 | 保留交换不变，为整个批处理交换创建 XML 文档。 仅暂停未能通过验证的事务集，同时继续处理所有其他事务集。 |
| 保留交换 - 出错时暂停交换 | 保留交换不变，为整个批处理交换创建 XML 文档。 如果交换中的一个或多个事务集未能通过验证，则暂停整个交换。 |
|||

<a name="EDIFACT-outbound-messages"></a>

## <a name="edifact-send-settings"></a>EDIFACT 发送设置

![显示 Azure 门户中出站消息的 EDIFACT 协议设置的屏幕截图。](./media/logic-apps-enterprise-integration-edifact-message-settings/edifact-send-settings.png)

### <a name="identifiers"></a>标识符

| 属性 | 说明 |
|----------|-------------|
| UNB1.2 (语法版本) | 1-4 的值。 |
| **UNB2.3 (发件人反向路由地址)** | 长度为 1-14 个字符的字母数字值。 |
| **UNB3.3 (收件人反向路由地址)** | 长度为 1-14 个字符的字母数字值。 |
| **UNB6.1 (收件人引用密码)** | 长度为 1-14 个字符的字母数字值。 |
| **UNB6.2 (收件人引用限定符)** | 长度为 1-2 个字符的字母数字值。 |
| **UNB7 (应用程序引用 ID)** | 长度为 1-14 个字符的字母数字值。 |
|||

### <a name="acknowledgment"></a>确认

| 属性 | 说明 |
|----------|-------------|
| **接收消息(CONTRL)** | 发送消息的主方合作伙伴从客方合作伙伴请求技术 (CONTRL) 确认。 |
| **确认(CONTRL)** | 发送消息的主方合作伙伴需要从客方合作伙伴请求功能 (CONTRL) 确认。 |
| **为已接受的事务集生成 SG1/SG4 循环** | 如果你选择请求功能确认，则此设置将强制在功能确认中为已接受的事务集生成 SG1/SG4 循环。 |
|||

### <a name="schemas"></a>架构

| 属性 | 说明 |
|----------|-------------|
| UNH2.1 (类型) | 事务集类型。 |
| UNH2.2 (版本) | 消息版本号。 |
| UNH2.3 (发行版) | 消息发行版号。 |
| **架构** | 以前上传的要在以下任一资源类型中使用的架构： <p>- 消耗：已链接到你的逻辑应用的集成帐户。 <br>- 标准：你的逻辑应用资源 |
|||

### <a name="envelopes"></a>信封

设置完信封行后，下一行将自动显示。 如果未指定任何规则，验证将使用标记为“默认”的行。

| 属性 | 说明 |
|----------|-------------|
| **UNB8 (Processing Priority Code)** | 长度不超过一个字符的字母数字值。 |
| **UNB10 (通信协议)** | 长度为 1-40 个字符的字母数字值。 |
| **UNB11 (测试指示器)** | 指示生成的交换是测试数据。 |
| **应用 UNA 段(服务字符串建议)** | 为要发送的交换生成 UNA 段。 |
| **应用 UNG 段(功能组标头)** | 在发送给客方合作伙伴的消息的功能组头中创建分组段。 以下值用于创建 UNG 段： <p>- 架构：以前上传的要在以下任一资源类型中使用的架构： <p>- 消耗：已链接到你的逻辑应用的集成帐户。 <p>- 标准：你的逻辑应用资源 <p>- UNG1：长度为 1-6 个字符的字母数字值。 <p>- UNG2.1：长度为 1-35 个字符的字母数字值。 <p>- UNG2.2：长度为 1-4 个字符的字母数字值。 <p>- UNG3.1：长度为 1-35 个字符的字母数字值。 <p>- UNG3.2：长度为 1-4 个字符的字母数字值。 <p>- UNG6：长度为 1-3 个字符的字母数字值。 <p>- UNG7.1：长度为 1-3 个字符的字母数字值。 <p>- UNG7.2：长度为 1-3 个字符的字母数字值。 <p>- UNG7.3：长度为 1-6 个字符的字母数字值。 <p>- UNG8：长度为 1-14 个字符的字母数字值。 |
|||

### <a name="character-sets-and-separators"></a>字符集和分隔符

除了字符集以外，还可以指定用于每种消息类型的一组不同分隔符。 如果没有为给定消息架构指定字符集，则使用“默认”字符集。

| 属性 | 说明 |
|----------|-------------|
| **UNB1.1 (系统标识符)** | 要应用于出站交换的 EDIFACT 字符集。 |
| **架构** | 以前上传的要在以下任一资源类型中使用的架构： <p>- 消耗：已链接到你的逻辑应用的集成帐户。 <p>- 标准：你的逻辑应用资源 <p>对于所选的架构，请根据以下分隔符说明选择要使用的分隔符集。 设置完架构行后，下一行将自动显示。 |
| 输入类型 | 消息的输入类型。 |
| 组件分隔符 | 用于分隔复合数据元素的单个字符。 |
| 数据元素分隔符 | 用于分隔复合数据元素中的简单数据元素的单个字符。 |
| UNA3 (小数符号) | 要在出站交换中使用的符号。 |
| **UNA4 (转义指示器)** | 用于转义指示器的值。转义指示器用于指示后接字符不是语法分隔符、终止符或转义符，而是原始数据的一部分。 |
| **UNA5 (重复分隔符)** | 用于分隔事务集内重复段的重复分隔符的值。 |
| 段终止符 | 指示 EDI 段的结尾的单个字符。 |
| **后缀** | 与段标识符一起使用的字符。 如果你指定了后缀，则段终止符数据元素可能为空。 如果段终止符留空，则必须指定后缀。 |
|||

### <a name="control-numbers"></a>控制编号

| 属性 | 说明 |
|----------|-------------|
| **UNB5 (交换控制编号)** | 一个前缀、一个要用作交换控制编号的值范围和一个后缀。 这些值用于生成出站交换。 控制编号是必需的，但前缀和后缀是可选的。 控制编号对于每个新消息递增，而前缀和后缀保持不变。 |
| **UNG5 (组控制编号)** | 一个前缀、一个要用作交换控制编号的值范围和一个后缀。 这些值用于生成组控制编号。 控制编号是必需的，但前缀和后缀是可选的。 控制编号对于每个新消息递增，直到达到最大值，而前缀和后缀保持不变。 |
| **UNH1 (消息标头引用编号)** | 一个前缀、一个用于交换控制编号的值范围和一个后缀。 这些值用于生成消息标头引用编号。 引用编号是必需的，但前缀和后缀是可选的。 前缀和后缀是可选的，而引用编号是必需的。 引用编号对于每个新消息递增，而前缀和后缀保持不变。 |
|||

### <a name="validation"></a>验证

设置完验证行后，下一行将自动显示。 如果未指定任何规则，验证将使用标记为“默认”的行。

| 属性 | 说明 |
|----------|-------------|
| 消息类型 | EDI 消息类型。 |
| EDI 验证 | 根据架构的 EDI 属性、长度限制、空数据元素和尾部分隔符的定义，对数据类型运行 EDI 验证。 |
| 扩展验证 | 如果数据类型不是 EDI，则根据数据元素要求运行验证，并允许重复、枚举和数据元素长度验证（最小值/最大值）。 |
| 允许前导零/尾随零 | 保留所有额外的前导或尾随零和空格字符。 不要删除这些字符。 |
| 剪裁前导零/尾随零 | 删除前导或尾随零字符。 |
| 尾随分隔符策略 | 生成尾部分隔符。 <p>- 不允许：禁止在发送的交换中包含尾随分隔符。 如果交换包含尾部分隔符，会将它声明为无效。 <p>- 可选：发送包含或不包含尾随分隔符的交换。 <p>-  必需：发送的交换必须包含尾随分隔符。 |
|||

## <a name="next-steps"></a>后续步骤

[交换 EDIFACT 消息](../logic-apps/logic-apps-enterprise-integration-edifact.md)