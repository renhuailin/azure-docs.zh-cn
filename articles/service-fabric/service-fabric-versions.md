---
title: 升级 Azure Service Fabric 群集版本
description: 了解 Azure Service Fabric 中的群集版本，包括指向 Service Fabric 团队博客中最新版本的链接。
ms.topic: troubleshooting
ms.date: 06/15/2020
ms.openlocfilehash: 9c7e5e3778c9a38190be210ebb391bc8b0b58c76
ms.sourcegitcommit: 227b9a1c120cd01f7a39479f20f883e75d86f062
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/18/2021
ms.locfileid: "100652048"
---
# <a name="upgrade-your-azure-service-fabric-cluster-version"></a>升级 Azure Service Fabric 群集版本

请确保群集始终运行受支持的 Azure Service Fabric 版本。 在公告新版 Service Fabric 的发布日期以后，至少还要过 60 天我们才会结束对旧版本的支持。 可以在 [Service Fabric 团队博客](https://azure.microsoft.com/updates/?product=service-fabric)中找到有关新版本的公告。

对于每个版本的 Service Fabric 运行时，可以使用指定的或更早版本的 SDK/NuGet 包。 较新版本的包可能无法以较旧的群集为目标。 较旧的群集可能具有较新的包环境不支持的功能或协议更改。

请参阅以下文章，了解有关如何使群集运行受支持的 Service Fabric 版本的详细信息：

- [升级 Azure Service Fabric 群集](service-fabric-cluster-upgrade.md)
- [升级在单独的 Windows Server 群集上运行的 Service Fabric 版本](service-fabric-cluster-upgrade-windows-server.md)

## <a name="unsupported-versions"></a>不支持的版本

### <a name="upgrade-alert-for-versions-between-57-and-6363"></a>5.7 与6.3.63 之间版本的升级警报。 *

为了提高安全性和可用性，Azure 基础结构已进行更改，这可能会影响 Service Fabric 客户。 此更改会影响所有运行5.7 到6.3 版本的群集 Service Fabric。

我们提供了一个 Service Fabric 运行时更新，它适用于所有区域中所有受支持的 Service Fabric 版本。 升级到2021年1月19日的最新支持版本之一，以避免服务中断。

如果你有支持计划并需要技术帮助，请通过 Azure 支持渠道联系。 为 Azure Service Fabric 提供支持请求，并在支持票证中提到此上下文。

#### <a name="if-you-dont-upgrade-to-a-supported-version"></a>如果未升级到受支持的版本

在版本5.7 到 6.3.63. * 的版本上运行的 Azure Service Fabric 群集在年1月 2021 19 日未升级时不可用。

#### <a name="required-action"></a>必需的操作

升级到受支持的 Service Fabric 版本，以防止停机或与此更改相关的功能丢失。 确保群集至少运行以下版本，以防止环境中出现问题。

> [!Note]
> **7.2 的所有发行版本都包含必要的更改**。
  
  | OS | 当前群集中的 Service Fabric 运行时 | CU/修补程序版本 |
  | --- | --- |--- |
  | Windows | 7.0.* | 7.0.478.9590 |
  | Windows | 7.1.* | 7.1.503.9590 |
  | Windows | 7.2.* | 7.2.* |
  | Ubuntu 16 | 7.0.* | 7.0.472.1  |
  | Linux Ubuntu 16.04 | 7.1.* | 7.1.455.1  |
  | Linux Ubuntu 18.04 | 7.1.* | 7.1.455.1804 |
  | Linux Ubuntu 16.04 | 7.2.* | 7.2.* |
  | Linux Ubuntu 18.04 | 7.2.* | 7.2.* |

### <a name="upgrade-alert-for-versions-later-than-63"></a>针对低于 6.3 的版本的升级提醒

为了提高安全性和可用性，Azure 基础结构已进行更改，这可能会影响 Service Fabric 客户。 此更改会影响使用[容器的开放网络模式](./service-fabric-networking-modes.md#set-up-open-networking-mode)并运行版本 6.3 到 7.0 或 7.0 之后不兼容的受支持版本的所有 Service Fabric 群集。 我们提供了一个 Service Fabric 运行时更新，它适用于所有区域中所有受支持的 Service Fabric 版本。

#### <a name="if-you-dont-upgrade-to-a-supported-version"></a>如果未升级到受支持的版本

如果 2021 年 1 月 19 日之前没有升级到受支持的版本，在高于 6.3 的未更改版本上运行的 Azure Service Fabric 群集会出现功能丢失或服务中断的情况。
  
  - 对于运行的 Service Fabric 版本高于 6.3 的群集，如果未使用开放网络功能，则群集会保持正常运行状态。

 - 对于运行的 Service Fabric 版本高于6.3 的群集，如果使用了[容器的开放网络功能](https://docs.microsoft.com/azure/service-fabric/service-fabric-networking-modes#set-up-open-networking-mode)，则该群集可能会变得不可用并停止运行，这可能会导致工作负荷的服务中断。
 
 -   **对于 [在7.0.457 和7.0.466 之间运行 Windows 版本的群集 () 包含的两个版本](https://docs.microsoft.com/azure/service-fabric/service-fabric-versions#supported-version-names) ，并且 windows OS 已启用 windows 容器功能。注意： Linux 版本7.0.457、7.0.464 和7.0.465 不受影响**。
    - 影响是：群集会停止运行，这可能会导致工作负荷的服务中断。
    
#### <a name="required-action"></a>必需的操作

若要防止停机或功能丢失，请确保群集运行的是以下版本之一。

表中的 Service Fabric 版本包含防止功能丢失所需的更改。 请确保你使用的是这些版本之一。  

> [!Note]
> **Azure Service Fabric 群集在版本6.5 上运行，必须在 infrastucuture 更改之前同时执行多个升级，以避免群集的功能丢失**。 
>   -   1. 升级到7.0.466。 **运行启用了 Windows 容器功能的 Windows OS 的群集无法在此中间版本上运行。它们需要执行下一步 (ii) 。 升级到更安全且合规的版本，以避免服务中断**
>   -   2. 升级到 7.0 * release (7.0.478 中的最新投诉版本) 或以下列出的任何更高版本。


> [!Note]
> **7.2 的所有发行版本都包含必要的更改**。

 | OS | 当前群集中的 Service Fabric 运行时 | CU/修补程序版本 |
  | --- | --- |--- |
  | Windows | 7.0.* | 7.0.478.9590 |
  | Windows | 7.1.* | 7.1.503.9590 |
  | Windows | 7.2.* | 7.2.* |
  | Linux Ubuntu 16.04 | 7.0.* | 7.0.472.1  |
  | Linux Ubuntu 16.04 | 7.1.* | 7.1.455.1  |
  | Linux Ubuntu 18.04 | 7.1.* | 7.1.455.1804 |
  | Linux Ubuntu 16.04 | 7.2.* | 7.2.* |
  | Linux Ubuntu 18.04 | 7.2.* | 7.2.* |

## <a name="supported-versions"></a>支持的版本

下表列出了 Service Fabric 版本及其支持结束日期。

| 群集中的 Service Fabric 运行时 | 可以直接从群集版本升级 |兼容的 SDK 或 NuGet 包版本 | 结束支持 |
| --- | --- |--- | --- |
| 5\.3.121 之前的所有群集版本 | 5.1.158.* |低于或等于版本 2.3 |2017 年 1 月 20 日 |
| 5.3.* | 5.1.158.* |低于或等于版本 2.3 |2017 年 2 月 24 日 |
| 5.4.* | 5.1.158.* |低于或等于版本 2.4 |2017 年 5 月 10 日       |
| 5.5.* | 5.4.164.* |低于或等于版本 2.5 |2017 年 8 月 10 日    |
| 5.6.* | 5.4.164.* |低于或等于版本 2.6 |2017 年 10 月 13 日   |
| 5.7.* | 5.4.164.* |低于或等于版本 2.7 |2017 年 12 月 15 日  |
| 6.0.* | 5.6.205.* |版本 2.8 或更低版本 |2018 年 3 月 30 日     |
| 6.1.* | 5.7.221.* |版本 3.0 或更低版本 |2018 年 7 月 15日      |
| 6.2.* | 6.0.232.* |版本 3.1 或更低版本 |2018 年 10 月 26日   |
| 6.3.* | 6.1.480.* |版本 3.2 或更低版本 |2019 年 3 月 31 日  |
| 6.4.* | 6.2.301.* |版本 3.3 或更低版本 |2019 年 9 月 15 日 |
| 6.5.* | 6.4.617.* |低于或等于版本 3.4 |2020 年 8 月 1 日 |
| 7.0.466.* | 6.4.664.* |低于或等于版本 4.0|2021 年 1 月 31 日  |
| 7.0.466.* | 6.5.* |低于或等于版本 4.0|2021 年 1 月 31 日 |
| 7.0.470.* | 7.0.466.* |低于或等于版本 4.0 |2021 年 1 月 31 日  |
| 7.0.472.* | 7.0.466.* |低于或等于版本 4.0 |2021 年 1 月 31 日  |
| 7.0.478.* | 7.0.466.* |低于或等于版本 4.0 |2021 年 1 月 31 日  |
| 7.1.409.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.417.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.428.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.456.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.458。* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.459.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.503.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.1.510.* | 7.0.466.* |低于或等于版本 4.1 |2021 年 3 月 31 日 |
| 7.2.413.* | 7.0.470.* |低于或等于版本 4.2 |当前版本，因此无结束日期 |
| 7.2.432.* | 7.0.470.* |低于或等于版本 4.2 |当前版本，因此无结束日期 |
| 7.2.433.* | 7.0.470.* |低于或等于版本 4.2 |当前版本，因此无结束日期 |
| 7.2.445.* | 7.0.470.* |低于或等于版本 4.2 |当前版本，因此无结束日期 |
| 7.2.452.* | 7.0.470.* |低于或等于版本 4.2 |当前版本，因此无结束日期 |
| 7.2.457.* | 7.0.470.* |低于或等于版本 4.2 |当前版本，因此无结束日期 |

## <a name="supported-operating-systems"></a>支持的操作系统

下表列出了支持的 Service Fabric 版本所支持的操作系统。

| 操作系统 | 支持的最低 Service Fabric 版本 |
| --- | --- |
| Windows Server 2012 R2 | 所有版本 |
| Windows Server 2016 | 所有版本 |
| Windows Server 1709 | 6.0 |
| Windows Server 1803 | 6.4 |
| Windows Server 1809 | 6.4.654.9590 |
| Windows Server 2019 | 6.4.654.9590 |
| Linux Ubuntu 16.04 | 6.0 |
| Linux Ubuntu 18.04 | 7.1 |

## <a name="supported-version-names"></a>支持的版本名称

下表列出了 Service Fabric 的版本名称以及相应的版本号。

| 版本名称 | Windows 版本号 | Linux 版本号 |
| --- | --- | --- |
| 5.3 RTO | 5.3.121.9494 | 不适用|
| 5.3 CU1 | 5.3.204.9494 | 不适用|
| 5.3 CU2 | 5.3.301.9590 | 不适用|
| 5.3 CU3 | 5.3.311.9590 | 不适用|
| 5.4 CU2 | 5.4.164.9494 | 不适用|
| 5.5 CU1 | 5.5.216.0    | 不适用|
| 5.5 CU2 | 5.5.219.0 | 不适用|
| 5.5 CU3 | 5.5.227.0 | 不适用|
| 5.5 CU4 | 5.5.232.0 | 不适用|
| 5.6 RTO | 5.6.204.9494 | 不适用|
| 5.6 CU2 | 5.6.210.9494 | 不适用|
| 5.6 CU3 | 5.6.220.9494 | 不适用|
| 5.7 RTO | 5.7.198.9494 | 不适用|
| 5.7 CU4 | 5.7.221.9494 | 不适用|
| 6.0 RTO | 6.0.211.9494 | 6.0.120.1 |
| 6.0 CU1 | 6.0.219.9494 | 6.0.127.1 |
| 6.0 CU2 | 6.0.232.9494 | 6.0.133.1 |
| 6.1 CU1 | 6.1.456.9494 | 6.1.183.1 |
| 6.1 CU2 | 6.1.467.9494 | 6.1.185.1 |
| 6.1 CU3 | 6.1.472.9494 | 不适用|
| 6.1 CU4 | 6.1.480.9494 | 6.1.187.1 |
| 6.2 RTO | 6.2.269.9494 | 6.2.184.1 |
| 6.2 CU1 | 6.2.274.9494 | 6.2.191.1 |
| 6.2 CU2 | 6.2.283.9494 | 6.2.194.1 |
| 6.2 CU3 | 6.2.301.9494 | 6.2.199.1 |
| 6.3 RTO | 6.3.162.9494 | 6.3.119.1 |
| 6.3 CU1 | 6.3.176.9494 | 6.3.124.1 |
| 6.3 CU1 | 6.3.187.9494 | 6.3.129.1 |
| 6.4 RTO | 6.4.617.9590 | 6.4.625.1 |
| 6.4 CU2 | 6.4.622.9590 | 不适用|
| 6.4 CU3 | 6.4.637.9590 | 6.4.634.1 |
| 6.4 CU4 | 6.4.644.9590 | 6.4.639.1 |
| 6.4 CU5 | 6.4.654.9590 | 6.4.649.1 |
| 6.4 CU6 | 6.4.658.9590 | 不适用|
| 6.4 CU7 | 6.4.664.9590 | 6.4.661.1 |
| 6.4 CU8 | 6.4.670.9590 | 不适用|
| 6.5 RTO | 6.5.639.9590 | 6.5.435.1 |
| 6.5 CU1 | 6.5.641.9590 | 6.5.454.1 |
| 6.5 CU2 | 6.5.658.9590 | 6.5.460.1 |
| 6.5 CU3 | 6.5.664.9590 | 6.5.466.1 |
| 6.5 CU5 | 6.5.676.9590 | 6.5.467.1 |
| 7.0 RTO | 7.0.457.9590 | 7.0.457.1 |
| 7.0 CU2 | 7.0.464.9590 | 7.0.464.1 |
| 7.0 CU3 | 7.0.466.9590 | 7.0.465.1 |
| 7.0 CU4 | 7.0.470.9590 | 7.0.469.1 |
| 7.0 CU6 | 7.0.472.9590 | 7.0.471.1 |
| 7.0 CU9 | 7.0.478.9590 | 7.0.472.1 |
| 7.1 RTO | 7.1.409.9590 | 7.1.410.1 |
| 7.1 CU1 | 7.1.417.9590 | 7.1.418.1 |
| 7.1 CU2 | 7.1.428.9590 | 7.1.428.1 |
| 7.1 CU3 | 7.1.456.9590 | 7.1.452.1 |
| 7.1 CU5 | 7.1.458.9590 | 7.1.454.1 |
| 7.1 CU6 | 7.1.459.9590 | 7.1.455.1 |
| 7.1 CU8 | 7.1.503.9590 | 7.1.508.1 |
| 7.1 CU10 | 7.1.510.9590 | NA |
| 7.2 RTO | 7.2.413.9590 | NA |
| 7.2 CU2 | 7.2.432.9590 | 7.2.431.1 |
| 7.2 CU3 | 7.2.433.9590 | NA |
| 7.2 CU4 | 7.2.445.9590 | 7.2.447.1 |
| 7.2 CU5 | 7.2.452.9590 | 7.2.454.1 |
| 7.2 CU6 | 7.2.457.9590 | 7.2.456.1 |
