---
title: AZFW0001：避免使用 async void
description: 了解代码分析规则 AZF0001：避免使用 async void
author: kashimiz
ms.author: kashimiz
ms.topic: troubleshooting
ms.date: 05/10/2021
ms.openlocfilehash: 4d2523983a1e78b3d86018dac5f1bb201833d66e
ms.sourcegitcommit: 42ac9d148cc3e9a1c0d771bc5eea632d8c70b92a
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/13/2021
ms.locfileid: "109850204"
---
# <a name="azf0001-avoid-async-void"></a>AZF0001：避免使用 async void

在异步函数定义中使用 `void` 返回类型时，会触发此规则。

| | 值 |
|-|-|
| **规则 ID** |AZF0001|
| **类别** |[使用情况]|
| **严重性** |错误|

## <a name="rule-description"></a>规则说明

定义返回类型为 `void` 的 `async` 函数会使 Functions 运行时无法跟踪调用完成情况或捕获并处理函数方法引发的异常。

有关常规的 `async void` 信息，请参阅此文： https://msdn.microsoft.com/magazine/jj991977.aspx

## <a name="how-to-fix-violations"></a>如何解决冲突

若要解决冲突，请将函数的返回类型从 `void` 更改为 `Task` 并进行必要的代码更改，以便正常返回 `Task`。

## <a name="when-to-suppress-the-rule"></a>何时抑制此规则

不应抑制此规则。 使用 `async void` 会导致不可预知的行为。
