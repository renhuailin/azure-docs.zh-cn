---
title: 地图上的绘图工具交互类型和键盘快捷方式 | Microsoft Azure Maps
description: 如何在 Microsoft Azure Maps Web SDK 中使用鼠标、触摸屏或键盘绘制和编辑形状
author: rbrundritt
ms.author: richbrun
ms.date: 12/05/2019
ms.topic: conceptual
ms.service: azure-maps
services: azure-maps
manager: cpendle
ms.openlocfilehash: 42b756e96829a19ddd25258087a8537c9a747b10
ms.sourcegitcommit: d9a2b122a6fb7c406e19e2af30a47643122c04da
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/24/2021
ms.locfileid: "114668850"
---
# <a name="interaction-types-and-keyboard-shortcuts-in-the-drawing-tools-module"></a>绘图工具模块中的交互类型和键盘快捷方式

本文概述了使用鼠标、触摸屏或键盘快捷方式绘制和编辑形状的所有不同方式。

绘图管理器支持使用三种不同的方法与地图进行交互以绘制形状。

* `click` - 在单击鼠标或触摸时添加坐标。
* `freehand ` - 在地图上拖动鼠标或触摸时添加坐标。
* `hybrid` - 在单击或拖动鼠标或触摸时添加坐标。

## <a name="how-to-draw-shapes"></a>如何绘制形状

 需要将绘图管理器的 `drawingMode` 选项设置为受支持的绘图设置，然后才能绘制任何形状。 可以通过编程方式设置此设置，也可以通过按工具栏上的绘图按钮之一来调用此设置。 即使在绘制形状后，绘图模式仍处于启用状态，因此可以轻松地绘制相同类型的其他形状。 以编程方式将绘图模式设置为空闲状态。 或者，通过单击工具栏上的当前绘图模式按钮切换到某个空闲状态。

以下各部分概述了可在地图上绘制形状的所有不同方式。

### <a name="how-to-draw-a-point"></a>如何绘制点

当绘图管理器处于 `draw-point` 绘图模式时，可以执行下列操作，在地图上绘制点。 这些方法适用于所有交互模式。

开始绘图
 - 单击鼠标左键，或者触摸地图，以便向地图中添加点。 
 - 如果鼠标指针位于地图上，请按 `F` 键，在鼠标指针的坐标处添加一个点。 向地图中添加点时，此方法的准确度更高。 按鼠标左键会造成鼠标指针的移动，而这样做导致的鼠标指针移动较少。
 - 继续单击、触摸或按 `F`，以便向地图中添加更多点。
 
完成绘制
 - 单击绘图工具栏中的任意按钮。 
 - 以编程方式设置绘图模式。 
 - 按 `C` 键。

取消绘制
 - 按 `Escape` 键。

### <a name="how-to-draw-a-line"></a>如何绘制线条

当绘图管理器处于 `draw-line` 模式时，可以根据交互模式执行下列操作，在地图上绘制点。

开始绘图
 - 单击模式
   * 单击鼠标左键，或者触摸地图，以在地图上添加线条的每个点。 每次单击或触摸都会向线条添加坐标。 
   * 如果鼠标指针位于地图上，请按 `F` 键，在鼠标指针的坐标处添加一个点。 向地图中添加点时，此方法的准确度更高。 按鼠标左键会造成鼠标指针的移动，而这样做导致的鼠标指针移动较少。
   * 继续单击，直到将所需的所有点都添加到线条。
 - 手绘模式
   * 按下鼠标左键，或者在地图上向下触按，然后四处拖动鼠标指针或触摸点。 当鼠标指针或触摸点在地图上移动时，将向线条添加坐标。 一旦触发了鼠标或触摸事件，绘制便完成。 添加坐标的频率由绘图管理器 `freehandInterval` 选项定义。
 - 混合模式
   * 绘制单根线条时，根据需要在单击方法与手绘方法之间切换。 例如，单击几个点，然后按住并拖动鼠标来添加一组点，然后再单击几个点。 

完成绘制
 - 混合/单击模式
   * 在地图上的最后一个点处双击。 
   * 单击绘图工具栏中的任意按钮。 
   * 以编程方式设置绘图模式。 
 - 手绘模式
   * 松开鼠标按键或触摸点。
 - 按 `C` 键。

取消绘制
 - 按 `Escape` 键。

### <a name="how-to-draw-a-polygon"></a>如何绘制多边形

当绘图管理器处于 `draw-polygon` 模式时，可以根据交互模式执行下列操作，在地图上绘制点。

开始绘图
 - 单击模式
   * 单击鼠标左键，或者触摸地图，在地图上添加多边形的每个点。 每次单击或触摸都会向多边形添加坐标。 
   * 如果鼠标指针位于地图上，请按 `F` 键，在鼠标指针的坐标处添加一个点。 向地图中添加点时，此方法的准确度更高。 按鼠标左键会造成鼠标指针的移动，而这样做导致的鼠标指针移动较少。
   * 继续单击，直到将所需的所有点都添加到多边形。
 - 手绘模式
   * 按下鼠标左键，或者在地图上向下触按，然后四处拖动鼠标指针或触摸点。 当鼠标指针或触摸点在地图上移动时，将向多边形添加坐标。 一旦触发了鼠标或触摸事件，绘制便完成。 添加坐标的频率由绘图管理器 `freehandInterval` 选项定义。
 - 混合模式
   * 绘制单个多边形时，根据需要在单击方法与手绘方法之间切换。 例如，单击几个点，然后按住并拖动鼠标来添加一组点，然后再单击几个点。 

完成绘制
 - 混合/单击模式
   * 在地图上的最后一个点处双击。 
   * 单击多边形的第一个点。
   * 单击绘图工具栏中的任意按钮。 
   * 以编程方式设置绘图模式。 
 - 手绘模式
   * 松开鼠标按键或触摸点。
 - 按 `C` 键。

取消绘制
 - 按 `Escape` 键。

### <a name="how-to-draw-a-rectangle"></a>如何绘制矩形

当绘图管理器处于 `draw-rectangle` 模式时，可以根据交互模式执行下列操作，在地图上绘制点。 生成的形状将遵循[适用于矩形的扩展 GeoJSON 规范](extend-geojson.md#rectangle)。

开始绘图
 - 按下鼠标左键，或者在地图上向下触轻，添加矩形的第一个角并进行拖动以创建矩形。 

完成绘制
 - 松开鼠标按键或触摸点。
 - 以编程方式设置绘图模式。 
 - 按 `C` 键。

取消绘制
 - 按 `Escape` 键。

### <a name="how-to-draw-a-circle"></a>如何绘制圆

当绘图管理器处于 `draw-circle` 模式时，可以根据交互模式执行下列操作，在地图上绘制点。 生成的形状将遵循[适用于圆的扩展 GeoJSON 规范](extend-geojson.md#circle)。

开始绘图
 - 按下鼠标左键，或者在地图上向下触按，以添加圆的中心，并进行拖动以给出圆的半径。 

完成绘制
 - 松开鼠标按键或触摸点。
 - 以编程方式设置绘图模式。 
 - 按 `C` 键。

取消绘制
 - 按 `Escape` 键。

## <a name="keyboard-shortcuts"></a>键盘快捷键

绘图工具支持键盘快捷方式。 当地图处于焦点时，这些键盘快捷方式可以使用。

| 密钥      | 操作                            |
|----------|-----------------------------------|
| `C` | 完成正在进行的任何绘图，并将绘图模式设置为空闲。 焦点将移到顶级地图元素。  |
| `Escape` | 取消正在进行的任何绘图，并将绘图模式设置为空闲。 焦点将移到顶级地图元素。  |
| `F` | 如果鼠标指针位于地图上，则会将坐标添加到点、线条或多边形。 处于单击或混合模式时，这是与单击地图等效的操作。 此快捷方式可用来更精确、更快速地绘图。 你可以使用一只手来定位鼠标，使用另一只手按下按钮，不需要通过按压手势移动鼠标。 |
| `Delete` 或 `Backspace` | 如果在编辑模式下选择了形状，请将这些形状删除。  |

## <a name="next-steps"></a>后续步骤

详细了解绘图工具模块中的类：

> [!div class="nextstepaction"]
> [绘图管理器](/javascript/api/azure-maps-drawing-tools/atlas.drawing.drawingmanager)

> [!div class="nextstepaction"]
> [绘图工具栏](/javascript/api/azure-maps-drawing-tools/atlas.control.drawingtoolbar)