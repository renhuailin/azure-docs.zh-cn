---
title: 配置解决方案模板计划
description: 在合作伙伴中心（Azure 市场）为 Azure 应用程序产品/服务配置解决方案模板计划。
author: aarathin
ms.author: aarathin
ms.reviewer: dannyevers
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: how-to
ms.date: 07/05/2021
ms.openlocfilehash: f9ca1bbb2bc8556f972a55720b874b08587b06f1
ms.sourcegitcommit: 2cff2a795ff39f7f0f427b5412869c65ca3d8515
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/10/2021
ms.locfileid: "113594944"
---
# <a name="configure-a-solution-template-plan"></a>配置解决方案模板计划

本文仅适用于 Azure 应用程序套餐的解决方案模板计划。 如果要配置托管应用程序计划，请参阅[配置托管应用程序计划](azure-app-managed.md)。

## <a name="re-use-technical-configuration-optional"></a>重复使用技术配置（可选）

如果在产品/服务内创建了多个相同类型的计划，并且它们之间的技术配置相同，则可以重复使用其他计划中的技术配置。 此计划发布之后便无法更改此设置。

若要重复使用技术配置：

1. 选中“此计划重复使用同种类型的其他计划中的技术配置”复选框。
1. 在出现的列表中，选择所需的基本计划。

> [!NOTE]
> 如果计划当前正在重复使用，或已重复使用另一个相同类型的计划的技术配置，请转到该基本计划以查看以前发布的包的历史记录。

## <a name="choose-who-can-see-your-plan"></a>选择计划开放对象

可以将每个计划配置为对每个人都可见，或者仅对特定受众可见。 你可以通过用于包含所分配的每个订阅 ID 的说明的选项，使用 Azure 订阅 ID 来为私有受众分配访问权限。 最多可以手动添加 10 个订阅 ID，使用 .CSV 文件最多可添加 10,000 个订阅 ID。 Azure 订阅 ID 表示为 GUID，字母必须为小写。

> [!NOTE]
> 如果发布专用计划，以后仍可将其设为公用。 但是，在发布公共计划后，不能将其可见性更改为私有。

在“可用性”选项卡上的“计划可视性”下，执行下列操作之一：

- 要将计划设为公共，请选择“公共”选项按钮（也称为单选按钮）。
- 要将计划设为私有，请选择“私有”选项按钮，然后手动或使用 CSV 文件添加 Azure 订阅 ID。

    > [!NOTE]
    > 专用或受限受众与在“预览”选项卡上定义的预览受众不同。预览受众可以在你的产品/服务尚未在市场中发布之前提前访问。 专用受众选项仅适用于特定计划，而预览受众可以查看所有计划（专用或非专用）以进行验证。

### <a name="manually-add-azure-subscription-ids-for-a-private-plan"></a>手动为私有计划添加 Azure 订阅 ID

1. 在“计划可见性”下，选择“私有”选项按钮。
1. 在出现的“Azure 订阅 ID”框中，输入要授予对该私有计划访问权限的受众的 Azure 订阅 ID。 至少需要一个订阅 ID。
1. （可选）在“描述”框中输入该访问群体的描述。
1. 要添加另一个订阅 ID，请选择“添加 ID（最多 10 个）”链接，然后重复步骤 2和 3。

## <a name="use-a-csv-file-to-add-azure-subscription-ids-for-a-private-plan"></a>使用 .CSV 文件为私有计划添加 Azure 订阅 ID

1. 在“计划可见性”下，选择“私有”选项按钮。
1. 选择“导出受众 (csv)”链接。
1. 打开 .CSV 文件，然后将要授予私有产品/服务的访问权限的 Azure 订阅 ID 添加到 ID 列中。
1. （可选）在“描述”列中输入每个受众的描述。
1. 对于具有预订 ID 的每一行，在“类型”列中添加“SubscriptionId”。
1. 保存 .CSV 文件。
1. 在“可用性”选项卡上的“计划可见性”下，选择“导入受众 (csv)”链接。
1. 在显示的对话框中，选择“是”。
1. 选择 CSV 文件，然后选择“打开”。 出现一条消息，指示 .CSV 文件已成功导入。

### <a name="hide-your-plan"></a>隐藏你的计划

如果你的解决方案模板旨在仅当通过其他解决方案模板或托管应用程序引用时才间接部署，请选中“隐藏计划”下面的复选框以发布你的解决方案模板，但是会使它向客户隐藏，从而无法直接搜索和浏览它。

选择“保存草稿”，然后继续下一部分：定义技术配置。

## <a name="define-the-technical-configuration"></a>定义技术配置

在“技术配置”选项卡上，你将上传部署包并提供包的版本号，客户可以通过这个部署包来部署你的计划。

### <a name="assign-a-version-number-for-the-package"></a>分配包的版本号

在“版本”框中，提供技术配置的当前版本。 每次将更改发布到此页时，都会递增此版本。 版本号必须采用以下格式：整数.整数.整数。 例如，`1.0.2`。

### <a name="upload-a-package-file"></a>上传包文件

在“包文件 (.zip)”下，将包文件拖到灰色框，或选择“浏览文件”链接。

> [!NOTE]
> 如果在上传文件时遇到问题，请确保本地网络不会阻止合作伙伴中心使用的 `https://upload.xboxlive.com` 服务。

### <a name="previously-published-packages"></a>以前发布的包

实时发布要约后，“先前发布的软件包”子选项卡将出现在“技术配置”页面上。  该选项卡列出了以前发布的技术配置的所有版本。

## <a name="view-your-plans"></a>查看计划

- 选择“保存草稿”，然后在页面的左上方，选择“计划概述”以返回到“计划概览”页面。

创建一个或多个计划后，你将在“计划概述”选项卡上看到你的计划名称、计划 ID、计划类型、可用性（公共或私有）、当前发布状态以及任何可用的操作。

“计划概述”选项卡的“操作”列中可用的操作根据你的计划状态而有所不同，并且可能包括以下内容：

- 如果计划状态为“草稿”，则“操作”列中的链接将显示“删除草稿”。
- 如果计划状态为“实时”，则“操作”列中的链接将为“停止分发”或“同步私有受众”。 “同步私有受众”链接将仅向你的私有受众发布更改，而不会发布你可能对产品/服务进行的任何其他更新。
- 要为此产品/服务创建另一个计划，请在“计划概述”选项卡顶部，选择“+ 创建新计划”。 然后重复[如何为 Azure 应用程序产品/服务创建计划](azure-app-plans.md)中的步骤。 否则，如果你已完成计划的创建，请参阅下一节：后续步骤。

## <a name="next-steps"></a>后续步骤

- [测试和发布此产品/服务](azure-app-test-publish.md)
- 通过“与 Microsoft 进行联合销售”以及“通过 CSP 合作伙伴转售”计划来[销售此产品/服务](azure-app-marketing.md)。 
